<!DOCTYPE html>
<html>
<head>
  <title>Audio Recorder and Player</title>
</head>
<body>
  <button id="recordButton">Record</button>
  <button id="stopButton" disabled>Stop</button>
  <button id="playButton" disabled>Play</button>
  <audio id="audioPlayer" controls></audio>

  <script>
    const recordButton = document.getElementById('recordButton');
const stopButton = document.getElementById('stopButton');
const playButton = document.getElementById('playButton');
const audioPlayer = document.getElementById('audioPlayer');
let mediaRecorder;
let recordedChunks = [];

recordButton.addEventListener('click', startRecording);
stopButton.addEventListener('click', stopRecording);
playButton.addEventListener('click', playRecording);

function startRecording() {
  navigator.mediaDevices.getUserMedia({ audio: true })
    .then(stream => {
      mediaRecorder = new MediaRecorder(stream);

      mediaRecorder.ondataavailable = event => {
        if (event.data.size > 0) {
          recordedChunks.push(event.data);
        }
      };

      mediaRecorder.onstop = () => {
        const blob = new Blob(recordedChunks, { type: 'audio/wav' });
        const url = URL.createObjectURL(blob);
        audioPlayer.src = url;
        playButton.disabled = false;
      };

      mediaRecorder.start();
      recordButton.disabled = true;
      stopButton.disabled = false;
    })
    .catch(error => console.error('Error accessing microphone:', error));
}

function stopRecording() {
  if (mediaRecorder.state === 'recording') {
    mediaRecorder.stop();
    recordButton.disabled = false;
    stopButton.disabled = true;
  }
}

function playRecording() {
  if (audioPlayer.src) {
    audioPlayer.play();
  }
}

  </script>
</body>
</html>
